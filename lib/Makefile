# GNU Make project makefile autogenerated by Premake

ifndef config
  config=debug
endif

ifndef verbose
  SILENT = @
endif

.PHONY: clean prebuild prelink

ifeq ($(config),debug)
  TARGETDIR = bin/debug
  TARGET = $(TARGETDIR)/lib
  define BUILDCMDS
	@echo Running build commands
	make -C hal
	make -C tlsf
	make -C ext
	make -C lwip
	make -f extern.mk
	make -f archive.mk
  endef
  define CLEANCMDS
	@echo Running clean commands
	make clean -C hal
	make clean -C tlsf
	make clean -C ext
	make clean -C lwip
	make -f extern.mk clean
	make -f archive.mk clean
  endef
endif

ifeq ($(config),release)
  TARGETDIR = bin/release
  TARGET = $(TARGETDIR)/lib
  define BUILDCMDS
	@echo Running build commands
	make -C hal
	make -C tlsf
	make -C ext
	make -C lwip
	make -f extern.mk
	make -f archive.mk
  endef
  define CLEANCMDS
	@echo Running clean commands
	make clean -C hal
	make clean -C tlsf
	make clean -C ext
	make clean -C lwip
	make -f extern.mk clean
	make -f archive.mk clean
  endef
endif

ifeq ($(config),linux)
  TARGETDIR = bin/linux
  TARGET = $(TARGETDIR)/lib
  define BUILDCMDS
	@echo Running build commands
	make -C hal
	make -C tlsf
	make -C ext
	make -C lwip
	make -f extern.mk
	make -f archive.mk
  endef
  define CLEANCMDS
	@echo Running clean commands
	make clean -C hal
	make clean -C tlsf
	make clean -C ext
	make clean -C lwip
	make -f extern.mk clean
	make -f archive.mk clean
  endef
endif

$(TARGET):
	$(BUILDCMDS)

clean:
	$(CLEANCMDS)
