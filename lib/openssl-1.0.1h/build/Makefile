# GNU Make project makefile autogenerated by Premake

ifndef config
  config=debug
endif

ifndef verbose
  SILENT = @
endif

.PHONY: clean prebuild prelink

ifeq ($(config),debug)
  TARGETDIR = bin/Debug
  TARGET = $(TARGETDIR)/ssl
  define BUILDCMDS
	@echo Running build commands
	PACKETNGIN_BASE="../../../lib" make -C ../ build_libs
	cp ../libssl.a ../..
	cp ../libcrypto.a ../..
	cp ../libssl.a ../../../sdk/lib/
	cp ../libcrypto.a ../../../sdk/lib/
	mkdir -p ../../../sdk/include
	cp -rL ../include/* ../../../sdk/include/
  endef
  define CLEANCMDS
	@echo Running clean commands
	make -C ../ clean
  endef
endif

ifeq ($(config),release)
  TARGETDIR = bin/Release
  TARGET = $(TARGETDIR)/ssl
  define BUILDCMDS
	@echo Running build commands
	PACKETNGIN_BASE="../../../lib" make -C ../ build_libs
	cp ../libssl.a ../..
	cp ../libcrypto.a ../..
	cp ../libssl.a ../../../sdk/lib/
	cp ../libcrypto.a ../../../sdk/lib/
	mkdir -p ../../../sdk/include
	cp -rL ../include/* ../../../sdk/include/
  endef
  define CLEANCMDS
	@echo Running clean commands
	make -C ../ clean
  endef
endif

$(TARGET):
	$(BUILDCMDS)

clean:
	$(CLEANCMDS)
